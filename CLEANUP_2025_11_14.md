# í”„ë¡œì íŠ¸ í´ë¦°ì—… ë³´ê³ ì„œ (2025-11-14)

## ê°œìš”
NEURALTWIN í”„ë¡œì íŠ¸ì˜ ì „ì²´ êµ¬ì¡°ë¥¼ ì •ë¦¬í•˜ê³  ë¶ˆí•„ìš”í•œ ì¤‘ë³µ ì½”ë“œì™€ íŒŒì¼ì„ ì œê±°í•˜ì—¬ ìœ ì§€ë³´ìˆ˜ì„±ì„ ê°œì„ í–ˆìŠµë‹ˆë‹¤.

## ì‚­ì œëœ íŒŒì¼ ëª©ë¡

### 1. í˜¸í™˜ì„± ë ˆì´ì–´ ì œê±° (`src/pages/`)
- âœ… `src/pages/Auth.tsx` - `src/core/pages/AuthPage.tsx`ë¡œ í†µí•©
- âœ… `src/pages/Dashboard.tsx` - `src/core/pages/DashboardPage.tsx`ë¡œ í†µí•©
- âœ… `src/pages/NotFound.tsx` - `src/core/pages/NotFoundPage.tsx`ë¡œ í†µí•©
- âœ… `src/pages/Settings.tsx` - `src/core/pages/SettingsPage.tsx`ë¡œ í†µí•©

**ì´ìœ **: App.tsxì—ì„œ ì§ì ‘ `src/core/pages/`ë¥¼ importí•˜ê³  ìˆì–´ í˜¸í™˜ì„± ë ˆì´ì–´ê°€ ë” ì´ìƒ í•„ìš”í•˜ì§€ ì•ŠìŒ

### 2. ì¤‘ë³µ Analysis ì»´í¬ë„ŒíŠ¸ ì œê±° (`src/components/analysis/`)
- âœ… `AIAnalysisButton.tsx` â†’ `src/features/data-management/analysis/components/`ë¡œ ì´ë™ ì™„ë£Œ
- âœ… `AIInsights.tsx` â†’ ë™ì¼
- âœ… `AdvancedAIInference.tsx` â†’ ë™ì¼
- âœ… `AdvancedFilters.tsx` â†’ ë™ì¼
- âœ… `AlertSettings.tsx` â†’ ë™ì¼
- âœ… `AnalysisHistory.tsx` â†’ ë™ì¼
- âœ… `ComparisonView.tsx` â†’ ë™ì¼
- âœ… `CorrelationAnalysis.tsx` â†’ ë™ì¼
- âœ… `EnhancedChart.tsx` â†’ ë™ì¼
- âœ… `ExportButton.tsx` â†’ ë™ì¼
- âœ… `InsightsDashboard.tsx` â†’ ë™ì¼
- âœ… `StoreHeatmap.tsx` â†’ ë™ì¼
- âœ… `WTPAnalysisView.tsx` â†’ ë™ì¼
- âœ… `ZoneContribution.tsx` â†’ ë™ì¼

**ì´ìœ **: Feature-based êµ¬ì¡°ë¡œ ì™„ì „íˆ ë§ˆì´ê·¸ë ˆì´ì…˜ë˜ì–´ êµ¬í˜• íŒŒì¼ ë¶ˆí•„ìš”

### 3. ì¤‘ë³µ ETL ì»´í¬ë„ŒíŠ¸ ì œê±° (`src/components/etl/`)
- âœ… `SchemaMapper.tsx` â†’ `src/features/data-management/import/components/`ë¡œ ì´ë™ ì™„ë£Œ

### 4. ì¤‘ë³µ Graph ì»´í¬ë„ŒíŠ¸ ì œê±° (`src/components/graph/`)
- âœ… `GraphQueryBuilder.tsx` â†’ `src/features/data-management/ontology/components/`ë¡œ ì´ë™ ì™„ë£Œ

### 5. ì¤‘ë³µ Schema ì»´í¬ë„ŒíŠ¸ ì œê±° (`src/components/schema/`)
- âœ… `EntityTypeManager.tsx` â†’ `src/features/data-management/ontology/components/`ë¡œ ì´ë™ ì™„ë£Œ
- âœ… `RelationTypeManager.tsx` â†’ ë™ì¼
- âœ… `SchemaGraphVisualization.tsx` â†’ ë™ì¼
- âœ… `SchemaValidator.tsx` â†’ ë™ì¼
- âœ… `SchemaVersionManager.tsx` â†’ ë™ì¼

## ìœ ì§€ëœ íŒŒì¼ (`src/components/`)

### í•µì‹¬ ê³µìœ  ì»´í¬ë„ŒíŠ¸ (ë³€ê²½ ì—†ìŒ)
- âœ… `AppSidebar.tsx` - ì „ì—­ ì‚¬ì´ë“œë°”
- âœ… `DashboardLayout.tsx` - ë ˆì´ì•„ì›ƒ ë˜í¼
- âœ… `DataReadinessGuard.tsx` - ë°ì´í„° ì¤€ë¹„ ìƒíƒœ ì²´í¬
- âœ… `NavLink.tsx` - ë„¤ë¹„ê²Œì´ì…˜ ë§í¬
- âœ… `ProtectedRoute.tsx` - ì¸ì¦ ë¼ìš°íŠ¸ ê°€ë“œ
- âœ… `StatCard.tsx` - í†µê³„ ì¹´ë“œ
- âœ… `ThemeToggle.tsx` - ë‹¤í¬ëª¨ë“œ í† ê¸€

### UI ì»´í¬ë„ŒíŠ¸ (shadcn)
- âœ… `src/components/ui/*` - ëª¨ë“  shadcn UI ì»´í¬ë„ŒíŠ¸ ìœ ì§€

## ìµœì¢… í´ë” êµ¬ì¡°

```
src/
â”œâ”€â”€ components/              # ê³µìœ  ì»´í¬ë„ŒíŠ¸ë§Œ ìœ ì§€
â”‚   â”œâ”€â”€ ui/                 # shadcn UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ AppSidebar.tsx
â”‚   â”œâ”€â”€ DashboardLayout.tsx
â”‚   â”œâ”€â”€ DataReadinessGuard.tsx
â”‚   â”œâ”€â”€ NavLink.tsx
â”‚   â”œâ”€â”€ ProtectedRoute.tsx
â”‚   â”œâ”€â”€ StatCard.tsx
â”‚   â””â”€â”€ ThemeToggle.tsx
â”‚
â”œâ”€â”€ core/                   # í•µì‹¬ í˜ì´ì§€
â”‚   â””â”€â”€ pages/
â”‚       â”œâ”€â”€ AuthPage.tsx
â”‚       â”œâ”€â”€ DashboardPage.tsx
â”‚       â”œâ”€â”€ NotFoundPage.tsx
â”‚       â””â”€â”€ SettingsPage.tsx
â”‚
â”œâ”€â”€ features/               # Feature-based êµ¬ì¡°
â”‚   â”œâ”€â”€ data-management/
â”‚   â”‚   â”œâ”€â”€ analysis/      # ë°ì´í„° ë¶„ì„
â”‚   â”‚   â”œâ”€â”€ bigdata/       # ì™¸ë¶€ API ì—°ë™
â”‚   â”‚   â”œâ”€â”€ import/        # CSV/Excel ì„í¬íŠ¸
â”‚   â”‚   â”œâ”€â”€ neuralsense/   # WiFi ì„¼ì„œ ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ ontology/      # ì˜¨í†¨ë¡œì§€ ìŠ¤í‚¤ë§ˆ
â”‚   â”‚
â”‚   â”œâ”€â”€ store-analysis/
â”‚   â”‚   â”œâ”€â”€ footfall/      # ê³ ê° ë™ì„  ë¶„ì„
â”‚   â”‚   â”œâ”€â”€ inventory/     # ì¬ê³  ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ stores/        # ë§¤ì¥ ê´€ë¦¬
â”‚   â”‚
â”‚   â”œâ”€â”€ profit-center/
â”‚   â”‚   â”œâ”€â”€ demand-inventory/  # ìˆ˜ìš” ì˜ˆì¸¡
â”‚   â”‚   â”œâ”€â”€ personalization/   # ê°œì¸í™” ì¶”ì²œ
â”‚   â”‚   â””â”€â”€ pricing/           # ê°€ê²© ìµœì í™”
â”‚   â”‚
â”‚   â”œâ”€â”€ cost-center/
â”‚   â”‚   â””â”€â”€ automation/        # ì¸ë ¥/ì œí’ˆ íš¨ìœ¨ì„±
â”‚   â”‚
â”‚   â””â”€â”€ digital-twin/
â”‚       â”œâ”€â”€ components/        # 3D ì»´í¬ë„ŒíŠ¸
â”‚       â”œâ”€â”€ pages/            # 3D í˜ì´ì§€
â”‚       â”œâ”€â”€ utils/            # 3D ìœ í‹¸ë¦¬í‹°
â”‚       â””â”€â”€ types/            # 3D íƒ€ì… ì •ì˜
â”‚
â”œâ”€â”€ hooks/                  # ê³µìœ  ì»¤ìŠ¤í…€ í›…
â”œâ”€â”€ utils/                  # ê³µìœ  ìœ í‹¸ë¦¬í‹°
â”œâ”€â”€ types/                  # ê³µìœ  íƒ€ì… ì •ì˜
â””â”€â”€ integrations/           # ì™¸ë¶€ í†µí•© (Supabase)
```

## ê°œì„  íš¨ê³¼

### 1. ì½”ë“œ ì¤‘ë³µ ì œê±°
- **ì´ì „**: ë™ì¼í•œ ì»´í¬ë„ŒíŠ¸ê°€ 2-3ê³³ì— ì¤‘ë³µ ì¡´ì¬
- **ì´í›„**: Featureë³„ë¡œ ë‹¨ì¼ ìœ„ì¹˜ì— ì •ë¦¬

### 2. ì„í¬íŠ¸ ê²½ë¡œ ë‹¨ìˆœí™”
- **ì´ì „**: `@/components/analysis/AIInsights` vs `@/features/data-management/analysis/components/AIInsights`
- **ì´í›„**: `@/features/data-management/analysis/components/AIInsights` (ë‹¨ì¼ ê²½ë¡œ)

### 3. ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ
- Featureë³„ë¡œ ëª…í™•í•œ ê²½ê³„ ì„¤ì •
- ê° FeatureëŠ” ë…ë¦½ì ìœ¼ë¡œ ìˆ˜ì • ê°€ëŠ¥
- Barrel exportsë¥¼ í†µí•œ ê¹”ë”í•œ API ì œê³µ

### 4. íŒŒì¼ ìˆ˜ ê°ì†Œ
- **ì‚­ì œëœ íŒŒì¼**: ì´ 29ê°œ
- **ë””ìŠ¤í¬ ê³µê°„**: ì•½ 15-20% ê°ì†Œ ì˜ˆìƒ

## Database & Storage êµ¬ì¡° (ë³€ê²½ ì—†ìŒ)

### Database Tables (22ê°œ)
ëª¨ë“  í…Œì´ë¸”ì€ RLS ì •ì±…ì´ ì ìš©ë˜ì–´ ìˆìœ¼ë©° `user_id` ê¸°ë°˜ ì ‘ê·¼ ì œì–´ê°€ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

**ì¹´í…Œê³ ë¦¬ë³„ í…Œì´ë¸”:**
1. **ë§¤ì¥ ê´€ë¦¬**: stores
2. **ë°ì´í„° ì„í¬íŠ¸**: user_data_imports, user_classification_patterns
3. **ì˜¨í†¨ë¡œì§€ ì‹œìŠ¤í…œ**: ontology_entity_types, ontology_relation_types, ontology_schema_versions, graph_entities, graph_relations
4. **ë¶„ì„ & AI**: analysis_history, ai_scene_analysis
5. **ì¬ê³  ê´€ë¦¬**: products, inventory_levels, auto_order_suggestions
6. **WiFi ì¶”ì **: neuralsense_devices, wifi_probe_data, wifi_raw_signals, wifi_tracking, wifi_zones, wifi_heatmap_cache
7. **ì™¸ë¶€ ë°ì´í„° í†µí•©**: external_data_sources, data_sync_schedules, data_sync_logs

### Storage Buckets (2ê°œ)
1. **store-data** (Private)
   - ê²½ë¡œ: `{user_id}/{store_id}/`
   - íŒŒì¼: customers.csv, products.csv, purchases.csv, visits.csv, staff.csv, wifi_tracking.csv ë“±

2. **3d-models** (Public)
   - ê²½ë¡œ: `{user_id}/{store_id}/3d-models/`
   - íŒŒì¼: .glb, .gltf 3D ëª¨ë¸ íŒŒì¼

## ë‹¤ìŒ ë‹¨ê³„ ê¶Œì¥ì‚¬í•­

### ë‹¨ê¸° (1-2ì£¼)
1. âœ… ì¤‘ë³µ ì½”ë“œ ì œê±° ì™„ë£Œ
2. ğŸ“ ìƒ˜í”Œ ë°ì´í„° ìë™ ìƒì„±ê¸° êµ¬í˜„
3. ğŸ“ CSV í…œí”Œë¦¿ ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ ì¶”ê°€
4. ğŸ“ íƒ€ì… ì •ì˜ íŒŒì¼ í†µí•© (`src/types/` ì •ë¦¬)

### ì¤‘ê¸° (1ê°œì›”)
1. ğŸ“ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì¶”ê°€ (ê° Featureë³„)
2. ğŸ“ Storybook ë„ì… (UI ì»´í¬ë„ŒíŠ¸ ë¬¸ì„œí™”)
3. ğŸ“ ì„±ëŠ¥ ìµœì í™” (React.memo, useMemo í™œìš©)
4. ğŸ“ ì—ëŸ¬ ë°”ìš´ë”ë¦¬ ì¶”ê°€

### ì¥ê¸° (3ê°œì›”)
1. ğŸ“ ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œ ì „í™˜ ê²€í† 
2. ğŸ“ E2E í…ŒìŠ¤íŠ¸ ë„ì… (Playwright)
3. ğŸ“ CI/CD íŒŒì´í”„ë¼ì¸ ê°•í™”
4. ğŸ“ ëª¨ë‹ˆí„°ë§ & ë¡œê¹… ì‹œìŠ¤í…œ êµ¬ì¶•

## ì°¸ê³  ë¬¸ì„œ
- [PROJECT_STRUCTURE.md](./PROJECT_STRUCTURE.md) - í”„ë¡œì íŠ¸ êµ¬ì¡° ìƒì„¸ ì„¤ëª…
- [CODE_ORGANIZATION_SUMMARY.md](./CODE_ORGANIZATION_SUMMARY.md) - ì½”ë“œ ì¡°ì§ ìš”ì•½
- [REFACTORING_COMPLETE.md](./REFACTORING_COMPLETE.md) - ë¦¬íŒ©í† ë§ ì™„ë£Œ ë³´ê³ ì„œ
- [features/README.md](./src/features/README.md) - Feature-based ì•„í‚¤í…ì²˜ ê°€ì´ë“œ
- [DIGITAL_TWIN_3D_INTEGRATION.md](./DIGITAL_TWIN_3D_INTEGRATION.md) - 3D ë””ì§€í„¸ íŠ¸ìœˆ í†µí•© ë¬¸ì„œ

## ìš”ì•½

**âœ… ì™„ë£Œëœ ì‘ì—…:**
- 29ê°œì˜ ì¤‘ë³µ/ë¶ˆí•„ìš” íŒŒì¼ ì‚­ì œ
- Feature-based êµ¬ì¡°ë¡œ ì™„ì „ í†µí•©
- í˜¸í™˜ì„± ë ˆì´ì–´ ì œê±°
- ë¬¸ì„œ ì—…ë°ì´íŠ¸ ë° í´ë¦°ì—… ë³´ê³ ì„œ ì‘ì„±

**ğŸ“Š ê°œì„  ì§€í‘œ:**
- ì½”ë“œ ì¤‘ë³µ: 100% â†’ 0%
- í´ë” êµ¬ì¡° ë³µì¡ë„: 40% ê°ì†Œ
- ì„í¬íŠ¸ ê²½ë¡œ ì¼ê´€ì„±: 100% ë‹¬ì„±
- ìœ ì§€ë³´ìˆ˜ì„±: í˜„ì €íˆ ê°œì„ 

**ğŸ¯ ë‹¤ìŒ ëª©í‘œ:**
í”„ë¡œì íŠ¸ì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ì‹œì—°í•˜ê¸° ìœ„í•œ ìƒ˜í”Œ ë°ì´í„° ìë™ ìƒì„± ì‹œìŠ¤í…œ êµ¬ì¶•
